#№ Отчет по лабораторной работе №4
## по курсу "Логическое программирование"

## Обработка естественного языка

### студент: Лошманов Ю.А.

## Результат проверки

| Преподаватель     | Дата         |  Оценка       |
|-------------------|--------------|---------------|
| Сошников Д.В. |              |               |
| Левинская М.А.|              |       4       |

> *Комментарии проверяющих (обратите внимание, что более подробные комментарии возможны непосредственно в репозитории по тексту программы)*

Добавьте описание грамматики соотв. Вашему варианту с ключевыми словами: нетерминальными элеменами "every", терминальными "exists", "all".
## Введение
Под обработкой естественных и искусственных языков понимается распознание живого языка.

Язык Prolog удобен в решении таких задач тем, что каждый запрос разбивается на подцели, более мелкие запросы, и в конечном итоге происходит сопоставление с изначально заданным фактом, т.е. реализация обработки естественных и искусственных языков происходит довольно прямолинейным способом.

## Задание
5. Реализовать грамматический разбор фраз на ограниченном естественном языке и преобразовать данные фразы в язык исчисления предикатов первого порядка типа:Запрос: ?- test([every, man, that, lives, loves, a, woman],Res).Результат: Res = all(X, man(X) & lives(X) => exists(Y, woman(Y) & loves(X, Y)))

## Принцип решения
Грамматика языка – это множество правил, позволяющих определить, какие последовательности слов приемлемы в качестве предложений этого языка. Она определяет, как из слов образуются словосочетания и какие последовательности этих словосочетаний допустимы. Если задана грамматика некоторого языка, то для любой последовательности слов мы можем сказать, является ли она допустимым предложением.

Очень простой класс грамматик составляют так называемые контекстно-свободные грамматики. Вместо того, чтобы давать формальное определение понятия контекстно-свободной грамматики, мы проиллюстрируем его на одном простом примере. Приведенные ниже правила можно рассматривать как начальную часть грамматики предложений английского языка:

```
sentence --› группа_существительного, группа_глагола.

группа_существительного --› определитель, существительное.

группа_глагола --› глагол, группа_существительного.

группа_глагола --› глагол.

определитель --› [the].

существительное --› [apple].

существительное --› [man].

глагол --› [eats].

глагол --› [sings].
```


Определим логические операторы:
```prolog
:- op(12, xfx, =>).
:- op(11, xfy, &).
:- op(10, xfx, :).
```

Определитель:
```prolog
determiner(K, L1, L2, all(K) : (L1 => L2)) --> [every].
determiner(K, L1, L2, exists(K) : (L1 & L2)) --> [a].
```

Существительное:
```prolog
noun(K, man(K), [man|S], S).
noun(K, woman(K), [woman|S], S).
```

Имя, название:
```prolog
name(petya, [petya|S], S).
```

Преобразование в глагол:
```prolog
trans_verb(K, Y, loves(K, Y), [loves|S], S).

intrans_verb(K, lives(K), [lives|S], S).
```

Условия отношения:
```prolog
relative_statement(K, L1, L1 & L2) --> [that], group_verb(K, L2).
relative_statement(_, L, L) --> [].
```

Группа существительного:
```prolog
group_noun(K, L1, L) -->
    determiner(K, L2, L1, L), noun(K, L3), relative_statement(K, L3, L2).
group_noun(K, L, L) --> 
    name(K).
```

Группа глагола:
```prolog
group_verb(K, L) --> 
    trans_verb(K, Y, L1),
    group_noun(Y, L1, L).
group_verb(K, L) --> 
    intrans_verb(K, L).
```

Предложение и его разбивка:
```prolog
sentence(L) --> group_noun(K, L1, L), group_verb(K, L1), !.
```

## Результаты
```prolog
?- phrase(sentence(L), [every,man,that,lives,loves,a,woman]).
L = all(_10372):(man(_10372)&lives(_10372)=>exists(_10398):(woman(_10398)&loves(_10372, _10398))).

?- 
```

```prolog
?- phrase(sentence(L), [every, man, loves, a, woman]).
L = all(_18090):(man(_18090)=>exists(_18106):(woman(_18106)&loves(_18090, _18106))).

?-
```

## Выводы

В обработке естественных и искусственных языков Prolog должен давать лучшую производительность, по сравнению с другими языками (не учитывая Mercury и т.п.).

Одним из минусов реализации обработки естественных языков в языке Prolog является необходимость написания фактов и, в случае обширной обработки, их будет достаточно много. Также стоит отметить, что нужно задавать однокоренные слова с различными окончаниями/суффиксами для корректности результата.




